# Warehouse Management System - Microservices Architecture

–†–æ–∑–ø–æ–¥—ñ–ª–µ–Ω–∏–π REST –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Å–∫–ª–∞–¥—Å—å–∫–∏–º–∏ –º—ñ—Å—Ü—è–º–∏ –∑ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–æ—é –º—ñ–∫—Ä–æ—Å–µ—Ä–≤—ñ—Å—ñ–≤ –Ω–∞ –±–∞–∑—ñ Spring Cloud.

## üÜï Laboratory Work 4: Spring Cloud Implementation

**NEW!** –°–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î Service Discovery (Eureka) —Ç–∞ API Gateway –¥–ª—è –¥–∏–Ω–∞–º—ñ—á–Ω–æ—ó –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü—ñ—ó —Ç–∞ –±–∞–ª–∞–Ω—Å—É–≤–∞–Ω–Ω—è –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è.

üìñ **–î–µ—Ç–∞–ª—å–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è**: [LAB4_SPRING_CLOUD_GUIDE.md](LAB4_SPRING_CLOUD_GUIDE.md)

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É

–ü—Ä–æ—î–∫—Ç —Å–∫–ª–∞–¥–∞—î—Ç—å—Å—è –∑ –ø'—è—Ç–∏ —Å–µ—Ä–≤—ñ—Å—ñ–≤ —Ç–∞ –∫–æ–Ω—Å–æ–ª—å–Ω–æ–≥–æ –∫–ª—ñ—î–Ω—Ç–∞:

1. **Discovery Service** (–ø–æ—Ä—Ç 8761) - Eureka Server –¥–ª—è —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó —Å–µ—Ä–≤—ñ—Å—ñ–≤
2. **API Gateway** (–ø–æ—Ä—Ç 8080) - —î–¥–∏–Ω–∞ —Ç–æ—á–∫–∞ –≤—Ö–æ–¥—É –¥–ª—è –≤—Å—ñ—Ö –∑–∞–ø–∏—Ç—ñ–≤
3. **Place Service** (–ø–æ—Ä—Ç 8081) - —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Å–∫–ª–∞–¥—Å—å–∫–∏–º–∏ –º—ñ—Å—Ü—è–º–∏
4. **Order Service** (–ø–æ—Ä—Ç 8082) - —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è–º–∏
5. **Payment Service** (–ø–æ—Ä—Ç 8083) - —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –æ–ø–ª–∞—Ç–∞–º–∏
6. **Console Client** - –∫–æ–Ω—Å–æ–ª—å–Ω–∏–π –∫–ª—ñ—î–Ω—Ç –¥–ª—è –≤–∑–∞—î–º–æ–¥—ñ—ó –∑ —Å–∏—Å—Ç–µ–º–æ—é

## –í–∏–º–æ–≥–∏

- Java 17 –∞–±–æ –≤–∏—â–µ
- Maven 3.6+
- Windows –∞–±–æ Linux/MacOS

## –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º–∏

‚ö†Ô∏è **–í–ê–ñ–õ–ò–í–û**: –°–µ—Ä–≤—ñ—Å–∏ –ø–æ–≤–∏–Ω–Ω—ñ –∑–∞–ø—É—Å–∫–∞—Ç–∏—Å—è —É –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É –ø–æ—Ä—è–¥–∫—É!

### Windows

1. –ó–∞–ø—É—Å—Ç—ñ—Ç—å –≤—Å—ñ –º—ñ–∫—Ä–æ—Å–µ—Ä–≤—ñ—Å–∏ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –∑–∞–ø—É—Å–∫ —É –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É –ø–æ—Ä—è–¥–∫—É):
   ```batch
   start-all-services.bat
   ```
   
   –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤—ñ—Å–∏ —É —Ç–∞–∫–æ–º—É –ø–æ—Ä—è–¥–∫—É:
   - Discovery Service (Eureka) - –ø–æ—Ä—Ç 8761
   - API Gateway - –ø–æ—Ä—Ç 8080
   - Place Service - –ø–æ—Ä—Ç 8081
   - Order Service - –ø–æ—Ä—Ç 8082
   - Payment Service - –ø–æ—Ä—Ç 8083

2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ Eureka Dashboard: http://localhost:8761
   - –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤—Å—ñ —Å–µ—Ä–≤—ñ—Å–∏ –∑–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω—ñ

3. –ü—ñ—Å–ª—è –∑–∞–ø—É—Å–∫—É –≤—Å—ñ—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤ (–∑–∞—á–µ–∫–∞–π—Ç–µ ~45 —Å–µ–∫—É–Ω–¥), –∑–∞–ø—É—Å—Ç—ñ—Ç—å –∫–æ–Ω—Å–æ–ª—å–Ω–∏–π –∫–ª—ñ—î–Ω—Ç:
   ```batch
   start-console-client.bat
   ```

### Linux/MacOS

1. –ù–∞–¥–∞–π—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è:
   ```bash
   chmod +x start-all-services.sh start-console-client.sh
   ```

2. –ó–∞–ø—É—Å—Ç—ñ—Ç—å –≤—Å—ñ –º—ñ–∫—Ä–æ—Å–µ—Ä–≤—ñ—Å–∏:
   ```bash
   ./start-all-services.sh
   ```

3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ Eureka Dashboard: http://localhost:8761

4. –ü—ñ—Å–ª—è –∑–∞–ø—É—Å–∫—É –≤—Å—ñ—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤, –∑–∞–ø—É—Å—Ç—ñ—Ç—å –∫–æ–Ω—Å–æ–ª—å–Ω–∏–π –∫–ª—ñ—î–Ω—Ç:
   ```bash
   ./start-console-client.sh
   ```

### –†—É—á–Ω–∏–π –∑–∞–ø—É—Å–∫

–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ, –º–æ–∂–Ω–∞ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –∫–æ–∂–µ–Ω —Å–µ—Ä–≤—ñ—Å –æ–∫—Ä–µ–º–æ (–î–û–¢–†–ò–ú–£–ô–¢–ï–°–¨ –ü–û–†–Ø–î–ö–£!):

```bash
# 1. Discovery Service (–∑–∞—á–µ–∫–∞–π—Ç–µ ~15 —Å–µ–∫—É–Ω–¥)
cd discovery-service
mvn spring-boot:run

# 2. API Gateway (–≤ –Ω–æ–≤–æ–º—É —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ, –∑–∞—á–µ–∫–∞–π—Ç–µ ~10 —Å–µ–∫—É–Ω–¥)
cd api-gateway
mvn spring-boot:run

# 3. Place Service (–≤ –Ω–æ–≤–æ–º—É —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ)
cd place-service
mvn spring-boot:run

# 4. Order Service (–≤ –Ω–æ–≤–æ–º—É —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ)
cd order-service
mvn spring-boot:run

# 5. Payment Service (–≤ –Ω–æ–≤–æ–º—É —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ)
cd payment-service
mvn spring-boot:run

# 6. Console Client (–≤ –Ω–æ–≤–æ–º—É —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ)
cd console-client
mvn spring-boot:run
```

## üåê –î–æ—Å—Ç—É–ø –¥–æ —Å–µ—Ä–≤—ñ—Å—ñ–≤

### –ß–µ—Ä–µ–∑ API Gateway (–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)
–í—Å—ñ –∫–ª—ñ—î–Ω—Ç–∏ –ø–æ–≤–∏–Ω–Ω—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ API Gateway —è–∫ —î–¥–∏–Ω—É —Ç–æ—á–∫—É –≤—Ö–æ–¥—É:

- **Places API**: http://localhost:8080/api/places
- **Orders API**: http://localhost:8080/api/orders
- **Payments API**: http://localhost:8080/api/payments

### Eureka Dashboard
- **Service Registry**: http://localhost:8761

### –ü—Ä—è–º–∏–π –¥–æ—Å—Ç—É–ø –¥–æ —Å–µ—Ä–≤—ñ—Å—ñ–≤ (–¥–ª—è —Ä–æ–∑—Ä–æ–±–∫–∏)
- **Place Service**: http://localhost:8081
- **Order Service**: http://localhost:8082
- **Payment Service**: http://localhost:8083

## OpenAPI –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

–ö–æ–∂–µ–Ω –º—ñ–∫—Ä–æ—Å–µ—Ä–≤—ñ—Å –º–∞—î –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω—É OpenAPI –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é:

### Swagger UI (–Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å)
- **Place Service**: http://localhost:8081/swagger-ui.html
- **Order Service**: http://localhost:8082/swagger-ui.html
- **Payment Service**: http://localhost:8083/swagger-ui.html

### OpenAPI JSON –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∏
- **Place Service**: http://localhost:8081/api-docs
- **Order Service**: http://localhost:8082/api-docs
- **Payment Service**: http://localhost:8083/api-docs

–£ Swagger UI –≤–∏ –º–æ–∂–µ—Ç–µ:
- –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –≤—Å—ñ endpoint'–∏ –∑ –¥–µ—Ç–∞–ª—å–Ω–∏–º–∏ –æ–ø–∏—Å–∞–º–∏
- –ü–æ–±–∞—á–∏—Ç–∏ —Å—Ö–µ–º–∏ –∑–∞–ø–∏—Ç—ñ–≤ —Ç–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
- –ü—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ API –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –≤ –±—Ä–∞—É–∑–µ—Ä—ñ
- –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ OpenAPI —Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—é

–î–µ—Ç–∞–ª—å–Ω—ñ—à–µ –ø—Ä–æ OpenAPI –¥–∏–≤. [OPENAPI_DOCUMENTATION.md](OPENAPI_DOCUMENTATION.md)

---

## API Endpoints

### üîπ Place Service

- `GET /api/places/free` - –æ—Ç—Ä–∏–º–∞—Ç–∏ –≤—Å—ñ –≤—ñ–ª—å–Ω—ñ –º—ñ—Å—Ü—è
- `GET /api/places/free/type/{type}` - –æ—Ç—Ä–∏–º–∞—Ç–∏ –≤—ñ–ª—å–Ω—ñ –º—ñ—Å—Ü—è –∑–∞ —Ç–∏–ø–æ–º
- `GET /api/places/user/{userId}` - –æ—Ç—Ä–∏–º–∞—Ç–∏ –º—ñ—Å—Ü—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- `POST /api/places/give` - –≤–∏–¥–∞—Ç–∏ –º—ñ—Å—Ü—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É
- `POST /api/places/free` - –∑–≤—ñ–ª—å–Ω–∏—Ç–∏ –º—ñ—Å—Ü—è

### üîπ Order Service

- `POST /api/orders` - —Å—Ç–≤–æ—Ä–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
- `GET /api/orders/date-range?startDate={date}&endDate={date}` - –æ—Ç—Ä–∏–º–∞—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –∑–∞ –¥—ñ–∞–ø–∞–∑–æ–Ω–æ–º –¥–∞—Ç
- `PUT /api/orders/{orderId}/confirm` - –∑–∞—Ç–≤–µ—Ä–¥–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
- `PUT /api/orders/{orderId}/cancel` - —Å–∫–∞—Å—É–≤–∞—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
- `PUT /api/orders/{orderId}/start` - –ø–æ—á–∞—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
- `PUT /api/orders/{orderId}/finish` - –∑–∞–≤–µ—Ä—à–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è

### üîπ Payment Service

- `POST /api/payments` - —Å—Ç–≤–æ—Ä–∏—Ç–∏ –æ–ø–ª–∞—Ç—É
- `GET /api/payments` - –æ—Ç—Ä–∏–º–∞—Ç–∏ –≤—Å—ñ –æ–ø–ª–∞—Ç–∏
- `GET /api/payments/user/{userId}` - –æ—Ç—Ä–∏–º–∞—Ç–∏ –æ–ø–ª–∞—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- `GET /api/payments/order/{orderId}` - –æ—Ç—Ä–∏–º–∞—Ç–∏ –æ–ø–ª–∞—Ç–∏ –∑–∞ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è–º

**–ü—Ä–∏–º—ñ—Ç–∫–∞**: –í—Å—ñ —Ü—ñ endpoints –¥–æ—Å—Ç—É–ø–Ω—ñ —á–µ—Ä–µ–∑ API Gateway –∑–∞ –∞–¥—Ä–µ—Å–æ—é `http://localhost:8080`

## –ö–æ–Ω—Å–æ–ª—å–Ω–∏–π –∫–ª—ñ—î–Ω—Ç

–ü—ñ—Å–ª—è –∑–∞–ø—É—Å–∫—É –∫–æ–Ω—Å–æ–ª—å–Ω–æ–≥–æ –∫–ª—ñ—î–Ω—Ç–∞ –¥–æ—Å—Ç—É–ø–Ω—ñ –Ω–∞—Å—Ç—É–ø–Ω—ñ –∫–æ–º–∞–Ω–¥–∏:

1. Get all free places - –æ—Ç—Ä–∏–º–∞—Ç–∏ –≤—Å—ñ –≤—ñ–ª—å–Ω—ñ –º—ñ—Å—Ü—è
2. Get places by user ID - –æ—Ç—Ä–∏–º–∞—Ç–∏ –º—ñ—Å—Ü—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
3. Create order - —Å—Ç–≤–æ—Ä–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
4. Get orders by date range - –æ—Ç—Ä–∏–º–∞—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –∑–∞ –¥—ñ–∞–ø–∞–∑–æ–Ω–æ–º –¥–∞—Ç
5. Confirm order - –∑–∞—Ç–≤–µ—Ä–¥–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
6. Cancel order - —Å–∫–∞—Å—É–≤–∞—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
7. Start order - –ø–æ—á–∞—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
8. Finish order - –∑–∞–≤–µ—Ä—à–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
9. Create payment - —Å—Ç–≤–æ—Ä–∏—Ç–∏ –æ–ø–ª–∞—Ç—É
10. Get all payments - –æ—Ç—Ä–∏–º–∞—Ç–∏ –≤—Å—ñ –æ–ø–ª–∞—Ç–∏
11. Get payments by user ID - –æ—Ç—Ä–∏–º–∞—Ç–∏ –æ–ø–ª–∞—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
12. Get payments by order ID - –æ—Ç—Ä–∏–º–∞—Ç–∏ –æ–ø–ª–∞—Ç–∏ –∑–∞ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è–º

–í–≤–µ–¥—ñ—Ç—å `help` –¥–ª—è –ø–æ–∫–∞–∑—É –º–µ–Ω—é –∞–±–æ `exit` –¥–ª—è –≤–∏—Ö–æ–¥—É.

## –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

### Spring Cloud Architecture

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Console Client  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ All requests via Gateway
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ      API Gateway (Port 8080)        ‚îÇ
‚îÇ  - Dynamic Routing                  ‚îÇ
‚îÇ  - Load Balancing                   ‚îÇ
‚îÇ  - Circuit Breaker                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ Service Discovery
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Discovery Service (Port 8761)      ‚îÇ
‚îÇ  Netflix Eureka Server              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ Service Registration
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                                     ‚îÇ
‚ñº                 ‚ñº                   ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Place   ‚îÇ  ‚îÇ  Order   ‚îÇ  ‚îÇ Payment  ‚îÇ
‚îÇ Service  ‚îÇ  ‚îÇ Service  ‚îÇ  ‚îÇ Service  ‚îÇ
‚îÇ  :8081   ‚îÇ  ‚îÇ  :8082   ‚îÇ  ‚îÇ  :8083   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Key Patterns Implemented

1. **Service Discovery** - Netflix Eureka –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ—ó —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó —Ç–∞ –≤–∏—è–≤–ª–µ–Ω–Ω—è —Å–µ—Ä–≤—ñ—Å—ñ–≤
2. **API Gateway** - Spring Cloud Gateway —è–∫ —î–¥–∏–Ω–∞ —Ç–æ—á–∫–∞ –≤—Ö–æ–¥—É
3. **Client-Side Load Balancing** - @LoadBalanced RestTemplate –∑ Round Robin
4. **Circuit Breaker** - –∑–∞—Ö–∏—Å—Ç –≤—ñ–¥ –∫–∞—Å–∫–∞–¥–Ω–∏—Ö –≤—ñ–¥–º–æ–≤

### –¢—Ä–∏—à–∞—Ä–æ–≤–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

–ö–æ–∂–µ–Ω –º—ñ–∫—Ä–æ—Å–µ—Ä–≤—ñ—Å –º–∞—î —Ç—Ä–∏ —à–∞—Ä–∏:

1. **Controller** - –æ–±—Ä–æ–±–∫–∞ HTTP –∑–∞–ø–∏—Ç—ñ–≤
2. **Service** - –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞
3. **Repository** - –¥–æ—Å—Ç—É–ø –¥–æ –¥–∞–Ω–∏—Ö

### DTO (Data Transfer Objects)

- **–ú—ñ–∂—à–∞—Ä–æ–≤—ñ DTO** - –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –¥–ª—è –ø–µ—Ä–µ–¥–∞—á—ñ –¥–∞–Ω–∏—Ö –º—ñ–∂ —à–∞—Ä–∞–º–∏ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ —Å–µ—Ä–≤—ñ—Å—É
- **–ú—ñ–∂—Å–µ—Ä–≤—ñ—Å–Ω—ñ DTO** - –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –¥–ª—è –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—ó –º—ñ–∂ –º—ñ–∫—Ä–æ—Å–µ—Ä–≤—ñ—Å–∞–º–∏

### –ë–∞–∑–∏ –¥–∞–Ω–∏—Ö

–ö–æ–∂–µ–Ω –º—ñ–∫—Ä–æ—Å–µ—Ä–≤—ñ—Å –º–∞—î —Å–≤–æ—é –æ–∫—Ä–µ–º—É –±–∞–∑—É –¥–∞–Ω–∏—Ö (H2 in-memory):

- Place Service: `place_db`
- Order Service: `order_db`
- Payment Service: `payment_db`

### –ú—ñ–∂—Å–µ—Ä–≤—ñ—Å–Ω–∞ –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—è

- **–°–∏–Ω—Ö—Ä–æ–Ω–Ω–∞ –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—è** —á–µ—Ä–µ–∑ REST API
- **Service Discovery** —á–µ—Ä–µ–∑ Eureka (–∑–∞–º—ñ—Å—Ç—å hardcoded URLs)
- **Client-Side Load Balancing** –¥–ª—è —Ä–æ–∑–ø–æ–¥—ñ–ª—É –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
- **Fail-fast** –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π (Place Service)
- **Fail-silent** –¥–ª—è –Ω–µ–∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π (Payment Service –ø—Ä–∏ –ø–µ—Ä–µ–≤—ñ—Ä—Ü—ñ –æ–ø–ª–∞—Ç)

### JSON Schema Validation

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è JSON —Å—Ö–µ–º–∏ –¥–ª—è –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó –º—ñ–∂—Å–µ—Ä–≤—ñ—Å–Ω–∏—Ö –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ñ–≤:
- `order-service/src/main/resources/schemas/place-service-dto-schema.json`
- `order-service/src/main/resources/schemas/payment-service-dto-schema.json`

## –†–æ–∑–ø–æ–¥—ñ–ª–µ–Ω—ñ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó

–ü—Ä–∏ –Ω–µ–≤–¥–∞–ª–æ–º—É –≤–∏–∫–ª–∏–∫—É –º—ñ–∂ —Å–µ—Ä–≤—ñ—Å–∞–º–∏:

1. **Order Service ‚Üí Place Service**: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è fail-fast –ø—ñ–¥—Ö—ñ–¥. –Ø–∫—â–æ Place Service –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π, –æ–ø–µ—Ä–∞—Ü—ñ—è –Ω–µ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è —ñ –ø–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –ø–æ–º–∏–ª–∫–∞.

2. **Order Service ‚Üí Payment Service**: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è fail-silent –ø—ñ–¥—Ö—ñ–¥ –ø—Ä–∏ –ø–µ—Ä–µ–≤—ñ—Ä—Ü—ñ –æ–ø–ª–∞—Ç. –Ø–∫—â–æ Payment Service –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π, —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–¥–æ–≤–∂—É—î —Ä–æ–±–æ—Ç—É –±–µ–∑ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è.

3. **–ö–æ–º–ø–µ–Ω—Å–∞—Ü—ñ–π–Ω—ñ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó**: –ü—Ä–∏ —Å–∫–∞—Å—É–≤–∞–Ω–Ω—ñ –∞–±–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ñ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è, –º—ñ—Å—Ü—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–≤—ñ–ª—å–Ω—è—é—Ç—å—Å—è —á–µ—Ä–µ–∑ –≤–∏–∫–ª–∏–∫ Place Service.

## –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

### Spring Cloud Configuration

**Discovery Service** (`discovery-service/src/main/resources/application.properties`):
```properties
server.port=8761
eureka.client.register-with-eureka=false
eureka.client.fetch-registry=false
```

**API Gateway** (`api-gateway/src/main/resources/application.yml`):
```yaml
spring:
  cloud:
    gateway:
      routes:
        - id: place-service
          uri: lb://place-service
          predicates:
            - Path=/api/places/**
```

**Microservices** (Place, Order, Payment):
```properties
eureka.client.service-url.defaultZone=http://localhost:8761/eureka/
eureka.client.register-with-eureka=true
eureka.client.fetch-registry=true
```

**Order Service** (Client-Side Load Balancing):
```java
@Bean
@LoadBalanced
public RestTemplate restTemplate() {
    return new RestTemplate();
}
```

–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∫–æ–∂–Ω–æ–≥–æ —Å–µ—Ä–≤—ñ—Å—É –∑–Ω–∞—Ö–æ–¥—è—Ç—å—Å—è —É —Ñ–∞–π–ª–∞—Ö `application.properties` –∞–±–æ `application.yml`:
- –ü–æ—Ä—Ç–∏ —Å–µ—Ä–≤–µ—Ä—ñ–≤
- Eureka configuration
- –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –±–∞–∑ –¥–∞–Ω–∏—Ö

## –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

–ü—ñ—Å–ª—è –∑–∞–ø—É—Å–∫—É –≤—Å—ñ—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤, –º–æ–∂–Ω–∞ –ø—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ —Å–∏—Å—Ç–µ–º—É —á–µ—Ä–µ–∑ –∫–æ–Ω—Å–æ–ª—å–Ω–∏–π –∫–ª—ñ—î–Ω—Ç –∞–±–æ –Ω–∞–ø—Ä—è–º—É —á–µ—Ä–µ–∑ HTTP –∑–∞–ø–∏—Ç–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é Postman –∞–±–æ curl).

## üöÄ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è Load Balancing

–î–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—ó Round Robin –±–∞–ª–∞–Ω—Å—É–≤–∞–Ω–Ω—è –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è:

```bash
# –ó–∞–ø—É—Å—Ç—ñ—Ç—å –∫—ñ–ª—å–∫–∞ —ñ–Ω—Å—Ç–∞–Ω—Å—ñ–≤ Place Service
cd place-service
mvn spring-boot:run  # Instance 1 (port 8081)

# –í —ñ–Ω—à–æ–º—É —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ
cd place-service
mvn spring-boot:run -Dspring-boot.run.arguments=--server.port=8091  # Instance 2

# –í —ñ–Ω—à–æ–º—É —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ
cd place-service
mvn spring-boot:run -Dspring-boot.run.arguments=--server.port=8092  # Instance 3
```

–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ Eureka Dashboard - –≤—Å—ñ —Ç—Ä–∏ —ñ–Ω—Å—Ç–∞–Ω—Å–∏ –±—É–¥—É—Ç—å –∑–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω—ñ. –ó–∞–ø–∏—Ç–∏ –≤—ñ–¥ Order Service –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Ä–æ–∑–ø–æ–¥—ñ–ª—è—Ç—å—Å—è –º—ñ–∂ –Ω–∏–º–∏.

## üìö –î–æ–¥–∞—Ç–∫–æ–≤–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

- **Spring Cloud Guide**: [LAB4_SPRING_CLOUD_GUIDE.md](LAB4_SPRING_CLOUD_GUIDE.md) - –¥–µ—Ç–∞–ª—å–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –ø—Ä–æ Spring Cloud implementation
- **OpenAPI Documentation**: [OPENAPI_DOCUMENTATION.md](OPENAPI_DOCUMENTATION.md) - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –ø—Ä–æ REST API
- **API Test Requests**: [API_TEST_REQUESTS.md](API_TEST_REQUESTS.md) - –ø—Ä–∏–∫–ª–∞–¥–∏ HTTP –∑–∞–ø–∏—Ç—ñ–≤

## –ü—Ä–∏–º—ñ—Ç–∫–∏

- –í—Å—ñ —Å–µ—Ä–≤—ñ—Å–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å H2 in-memory –±–∞–∑–∏ –¥–∞–Ω–∏—Ö, —Ç–æ–º—É –¥–∞–Ω—ñ –Ω–µ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –º—ñ–∂ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–º–∏
- –î–ª—è production –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ –∑–∞–º—ñ–Ω–∏—Ç–∏ H2 –Ω–∞ –ø–æ–≤–Ω–æ—Ü—ñ–Ω–Ω—É –ë–î (PostgreSQL, MySQL —Ç–æ—â–æ)
- –ö–æ–Ω—Å–æ–ª—å–Ω–∏–π –∫–ª—ñ—î–Ω—Ç –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î Spring Boot –¥–ª—è dependency injection, –∞–ª–µ –Ω–µ –ø–æ—Ç—Ä–µ–±—É—î –≤–ª–∞—Å–Ω–æ—ó –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
- **–í–ê–ñ–õ–ò–í–û**: –ó–∞–≤–∂–¥–∏ –∑–∞–ø—É—Å–∫–∞–π—Ç–µ Discovery Service –ø–µ—Ä—à–∏–º, —ñ–Ω–∞–∫—à–µ —ñ–Ω—à—ñ —Å–µ—Ä–≤—ñ—Å–∏ –Ω–µ –∑–º–æ–∂—É—Ç—å –∑–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è

## –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó

- **Java 17**
- **Spring Boot 3.1.5**
- **Spring Cloud 2022.0.4**
- **Netflix Eureka** - Service Discovery
- **Spring Cloud Gateway** - API Gateway
- **Spring Cloud LoadBalancer** - Client-Side Load Balancing
- **H2 Database** - In-Memory Database
- **SpringDoc OpenAPI** - API Documentation

